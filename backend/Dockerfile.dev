# Copyright (c) 2025 kk
#
# This software is released under the MIT License.
# https://opensource.org/licenses/MIT

# 开发环境 Dockerfile
FROM golang:1.21-alpine

WORKDIR /app

# 安装构建工具和依赖
RUN apk add --no-cache git make

# 安装 air (热重载工具，可选)
RUN go install github.com/cosmtrek/air@latest

# 复制 go mod 文件
COPY go.mod go.sum ./
RUN go mod download

# 暴露端口
EXPOSE 8080

# 默认命令（可以在 docker-compose 中覆盖）
CMD ["go", "run", "./cmd/server"]

